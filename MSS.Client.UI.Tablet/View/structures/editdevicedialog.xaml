<customControls:KeyboardMetroWindow x:Class="MSS.Client.UI.Tablet.View.Structures.EditDeviceDialog"
                                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                                    xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
                                    xmlns:controls1="clr-namespace:WpfKb.Controls;assembly=WpfKb"
                                    xmlns:customControls="clr-namespace:MSS.Client.UI.Tablet.CustomControls"
                                    xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
                                    x:Name="UserControl" TitleCaps="false" Width="1100" Height="900" BorderThickness="0"
                                    GlowBrush="Black" ResizeMode="CanResizeWithGrip" ShowInTaskbar="false"
                                    WindowStartupLocation="CenterScreen" WindowState="Maximized" WindowTitleBrush="#00608c"
                                    Title="{Binding MeterDialogTitle}">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary>
          <Style x:Key="IsReadDeviceAvailableStyle">
            <Setter Property="UIElement.Visibility" Value="Visible"/>
            <Setter Property="UIElement.IsEnabled" Value="true"/>
            <Setter Property="UIElement.Opacity" Value="1"/>
            <Style.Triggers>
              <DataTrigger Binding="{Binding AreReadWriteButtonsVisibile, Mode=TwoWay}" Value="False">
                <Setter Property="UIElement.Visibility" Value="Collapsed"/>
              </DataTrigger>
              <DataTrigger Binding="{Binding IsReadButtonEnabled, Mode=TwoWay}" Value="False">
                <Setter Property="UIElement.IsEnabled" Value="false"/>
                <Setter Property="UIElement.Opacity" Value="0.5"/>
              </DataTrigger>
              <DataTrigger Binding="{Binding ElementName=StuctureSpecificTab, Path=IsSelected}" Value="False">
                <Setter Property="UIElement.IsEnabled" Value="false"/>
                <Setter Property="UIElement.Opacity" Value="0.5"/>
              </DataTrigger>
            </Style.Triggers>
          </Style>
          <Style x:Key="IsWriteDeviceAvailableStyle">
            <Setter Property="UIElement.Visibility" Value="Visible"/>
            <Setter Property="UIElement.IsEnabled" Value="true"/>
            <Setter Property="UIElement.Opacity" Value="1"/>
            <Style.Triggers>
              <DataTrigger Binding="{Binding AreReadWriteButtonsVisibile, Mode=TwoWay}" Value="False">
                <Setter Property="UIElement.Visibility" Value="Collapsed"/>
              </DataTrigger>
              <DataTrigger Binding="{Binding IsWriteButtonEnabled, Mode=TwoWay}" Value="False">
                <Setter Property="UIElement.IsEnabled" Value="false"/>
                <Setter Property="UIElement.Opacity" Value="0.5"/>
              </DataTrigger>
              <DataTrigger Binding="{Binding ElementName=StuctureSpecificTab, Path=IsSelected}" Value="False">
                <Setter Property="UIElement.IsEnabled" Value="false"/>
                <Setter Property="UIElement.Opacity" Value="0.5"/>
              </DataTrigger>
            </Style.Triggers>
          </Style>
        </ResourceDictionary>
        <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml"/>
        <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml"/>
        <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Colors.xaml"/>
        <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/Blue.xaml"/>
        <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseLight.xaml"/>
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="90"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Grid Row="0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Background="WhiteSmoke" Orientation="Horizontal"
                  IsEnabled="{Binding AreTabletButtonsEnabled}">
        <customControls:TabletButton x:Name="KeyboardButton" TouchDown="KeyboardButton_TouchDown"
                                     ButtonPath="M27.5,17C27.200012,17,27,17.200012,27,17.400024L27,18.900024C27,19.100006,27.200012,19.300018,27.5,19.300018L29.400024,19.300018C29.700012,19.300018,29.900024,19.100006,29.900024,18.900024L29.900024,17.400024C29.900024,17.200012,29.700012,17,29.400024,17z M8.3000488,17C8,17,7.8000488,17.200012,7.8000488,17.400024L7.8000488,18.900024C7.8000488,19.100006,8,19.300018,8.3000488,19.300018L13.100037,19.300018 15,19.300018 17.900024,19.300018 19.800049,19.300018 22.700012,19.300018 24.300049,19.300018 24.5,19.300018C24.800049,19.300018,25,19.100006,25,18.900024L25,17.400024C25,17.200012,24.800049,17,24.5,17L24.300049,17 22.700012,17 19.800049,17 17.900024,17 15,17 13.100037,17z M3.5,17C3.2000122,17,3,17.200012,3,17.400024L3,18.900024C3,19.100006,3.2000122,19.300018,3.5,19.300018L5.4000244,19.300018C5.7000122,19.300018,5.9000244,19.100006,5.9000244,18.900024L5.9000244,17.400024C5.9000244,17.200012,5.7000122,17,5.4000244,17z M27.5,13C27.200012,13,27,13.200012,27,13.400024L27,14.900024C27,15.100006,27.200012,15.300018,27.5,15.300018L29.400024,15.300018C29.700012,15.300018,29.900024,15.100006,29.900024,14.900024L29.900024,13.400024C29.900024,13.200012,29.700012,13,29.400024,13z M22.700012,13C22.400024,13,22.200012,13.200012,22.200012,13.400024L22.200012,14.900024C22.200012,15.100006,22.400024,15.300018,22.700012,15.300018L24.600037,15.300018C24.900024,15.300018,25.100037,15.100006,25.100037,14.900024L25.100037,13.400024C25.100037,13.200012,24.900024,13,24.600037,13z M17.900024,13C17.600037,13,17.400024,13.200012,17.400024,13.400024L17.400024,14.900024C17.400024,15.100006,17.600037,15.300018,17.900024,15.300018L19.800049,15.300018C20.100037,15.300018,20.300049,15.100006,20.300049,14.900024L20.300049,13.400024C20.300049,13.200012,20.100037,13,19.800049,13z M13.100037,13C12.800049,13,12.600037,13.200012,12.600037,13.400024L12.600037,14.900024C12.600037,15.100006,12.800049,15.300018,13.100037,15.300018L15,15.300018C15.300049,15.300018,15.5,15.100006,15.5,14.900024L15.5,13.400024C15.5,13.200012,15.300049,13,15,13z M8.3000488,13C8,13,7.8000488,13.200012,7.8000488,13.400024L7.8000488,14.900024C7.8000488,15.100006,8,15.300018,8.3000488,15.300018L10.200012,15.300018C10.5,15.300018,10.700012,15.100006,10.700012,14.900024L10.700012,13.400024C10.700012,13.200012,10.5,13,10.200012,13z M3.5,13C3.2000122,13,3,13.200012,3,13.400024L3,14.900024C3,15.100006,3.2000122,15.300018,3.5,15.300018L5.4000244,15.300018C5.7000122,15.300018,5.9000244,15.100006,5.9000244,14.900024L5.9000244,13.400024C5.9000244,13.200012,5.7000122,13,5.4000244,13z M22.700012,9C22.400024,9,22.200012,9.2000122,22.200012,9.4000244L22.200012,11C22.200012,11.200012,22.400024,11.400024,22.700012,11.400024L24.600037,11.400024C24.900024,11.400024,25.100037,11.200012,25.100037,11L25.100037,9.5C25.100037,9.3000183,24.900024,9.1000061,24.600037,9.1000061L22.700012,9.1000061z M17.900024,9C17.600037,9,17.400024,9.2000122,17.400024,9.4000244L17.400024,11C17.400024,11.200012,17.600037,11.400024,17.900024,11.400024L19.800049,11.400024C20.100037,11.400024,20.300049,11.200012,20.300049,11L20.300049,9.5C20.300049,9.3000183,20.100037,9.1000061,19.800049,9.1000061L17.900024,9.1000061z M13.100037,9C12.800049,9,12.600037,9.2000122,12.600037,9.4000244L12.600037,11C12.600037,11.200012,12.800049,11.400024,13.100037,11.400024L15,11.400024C15.300049,11.400024,15.5,11.200012,15.5,11L15.5,9.5C15.5,9.2000122,15.300049,9,15,9z M8.3000488,9C8,9,7.8000488,9.2000122,7.8000488,9.5L7.8000488,11C7.8000488,11.200012,8,11.400024,8.3000488,11.400024L10.200012,11.400024C10.5,11.400024,10.700012,11.200012,10.700012,11L10.700012,9.5C10.700012,9.3000183,10.5,9.1000061,10.200012,9.1000061L8.3000488,9.1000061z M3.5,9C3.2000122,9,3,9.2000122,3,9.5L3,11C3,11.200012,3.2000122,11.400024,3.5,11.400024L5.4000244,11.400024C5.7000122,11.400024,5.9000244,11.200012,5.9000244,11L5.9000244,9.5C5.9000244,9.2000122,5.7000122,9,5.4000244,9z M22,0C22.600037,0 23.100037,0.20001221 22.600037,0.70001221 21.400024,1.9000244 19.400024,2.4000244 17.800049,3.2000122 17.300049,3.4000244 16.400024,3.7000122 16.700012,4.3000183 17.100037,5.2000122 18.5,5.7000122 19.400024,6.1000061 19.700012,6.3000183 19.700012,6.5 19.5,6.7000122L29,6.7000122C30.600037,6.7000122,32,7.8000183,32,9.1000061L32,19.100006C32,20.400024,30.700012,21.5,29,21.5L2.9000244,21.5C1.3000488,21.5,0,20.400024,0,19.100006L0,9C0,7.7000122,1.3000488,6.6000061,2.9000244,6.6000061L16.800049,6.6000061C15.200012,5.8000183 13.300049,4.5 15.200012,3.1000061 16.900024,1.9000244 19.300049,1.7000122 20.700012,0.30001831 21,0.1000061 21.600037,0 22,0z"
                                     ButtonCommand="{Binding KeyboardControlCommand}" ButtonText="{Binding KeyboardControlText}"/>
        <customControls:TabletButton ButtonPath="M5.3999969,24.699982L5.3999969,27.899994 26.199997,27.899994 26.199997,24.699982z M8.2999927,0L12.299995,0 12.299995,8.1000061 8.2999927,8.1000061z M0,0L5.2999908,0 5.2999908,9.7999878 26.199997,9.7999878 26.199997,0 31.700001,0 31.700001,32 0,32z"
                                     ButtonCommand="{Binding EditDeviceCommand}"
                                     ButtonText="{Binding Path=MSS_SaveReadWrite, Source={StaticResource Resources}}"
                                     Visibility="{Binding IsSaveAndReadAndWriteVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
        <customControls:TabletButton ButtonPath="M24,24L26,24C26.552999,24 27,24.448 27,25 27,25.552 26.552999,26 26,26L24,26C23.447001,26 23,25.552 23,25 23,24.448 23.447001,24 24,24z M20,22L20,28 30,28 30,22z M23.455999,15L20,18.474001 20,20 30,20 30,15z M22.624001,13L32,13 32,30 18,30 18,17.649z M9.7990274,7.3870091L9.7990274,16.621998 13.048079,14.750001C14.630103,13.837002,16.214128,12.924003,17.798153,12.013003L15.275114,10.554006C13.448085,9.4990063,11.624056,8.4450073,9.7990274,7.3870091z M9.3970203,5.0810113C9.6760254,5.0810113 9.9560299,5.1610112 10.208034,5.3120112 12.231066,6.4860101 14.251098,7.6540089 16.276129,8.8230076L19.40918,10.635005C19.759184,10.827005 20.025188,11.163005 20.139191,11.572004 20.254192,11.982004 20.199192,12.429004 19.987188,12.800003 19.840185,13.040003 19.691183,13.179003 19.549181,13.297003L19.406179,13.396002C17.61915,14.422001,15.832123,15.452,14.047094,16.481998L10.183033,18.708996C9.9530296,18.850996 9.6730251,18.927996 9.3860207,18.927996 9.2530184,18.927996 9.1170158,18.910995 8.9860144,18.876997 8.5710077,18.768997 8.2130022,18.493998 8.0039988,18.120996 7.8629961,17.858997 7.7989955,17.606998 7.7989955,17.335999L7.7989955,6.6720099C7.7989955,5.7950106,8.5160065,5.0810113,9.3970203,5.0810113z M3,0L25,0C26.654053,0,28,1.3460083,28,3L28,11 26,11 26,3C26,2.4490051,25.552002,2,25,2L3,2C2.447998,2,2,2.4490051,2,3L2,21C2,21.550995,2.447998,22,3,22L16,22 16,24 3,24C1.3459473,24,0,22.653992,0,21L0,3C0,1.3460083,1.3459473,0,3,0z"
                                     ButtonCommand="{Binding SaveAndCreateNewCommand}"
                                     ButtonText="{Binding Path=MSS_MessageCodes_SaveAndCreateNew, Source={StaticResource Resources}}"/>
        <customControls:TabletButton ButtonPath="M16,11C18.761,11 21,13.239 21,16 21,18.761 18.761,21 16,21 13.239,21 11,18.761 11,16 11,13.239 13.239,11 16,11z M16,7C11.037994,7 7,11.037994 7,16 7,20.962006 11.037994,25 16,25 20.962006,25 25,20.962006 25,16 25,11.037994 20.962006,7 16,7z M16,5C22.065002,5 27,9.9349976 27,16 27,22.065002 22.065002,27 16,27 9.9349976,27 5,22.065002 5,16 5,9.9349976 9.9349976,5 16,5z M16,2C8.28,2 2,8.28 2,16 2,23.719999 8.28,30 16,30 23.719999,30 30,23.719999 30,16 30,8.28 23.719999,2 16,2z M16,0C24.822001,0 32,7.178 32,16 32,24.822001 24.822001,32 16,32 7.178,32 0,24.822001 0,16 0,7.178 7.178,0 16,0z"
                                     Style="{StaticResource IsReadDeviceAvailableStyle}"
                                     ButtonCommand="{Binding ReadConfigurationCommand}"
                                     ButtonText="{Binding Path=MSS_Client_Read, Source={StaticResource Resources}}"/>
        <customControls:TabletButton ButtonPath="M15.999991,12C18.208992,12 19.999992,13.791 19.999992,16 19.999992,18.209 18.208992,20 15.999991,20 13.790992,20 11.999991,18.209 11.999991,16 11.999991,13.791 13.790992,12 15.999991,12z M15,8.0641365L14.876534,8.0786371C11.327337,8.5796528,8.5187922,11.418788,8.0643978,14.982542L8.0623951,15 9,15C9.552,15 10,15.448 10,16 10,16.552 9.552,17 9,17L8.0623951,17 8.0643978,17.017458C8.5187922,20.581211,11.327337,23.420347,14.876534,23.921364L15,23.935863 15,23C15,22.448 15.448,22 16,22 16.552,22 17,22.448 17,23L17,23.935863 17.123466,23.921364C20.672661,23.420347,23.481209,20.581211,23.935602,17.017458L23.937605,17 23,17C22.448,17 22,16.552 22,16 22,15.448 22.448,15 23,15L23.937605,15 23.935602,14.982542C23.481209,11.418788,20.672661,8.5796528,17.123466,8.0786371L17,8.0641365 17,9C17,9.552 16.552,10 16,10 15.448,10 15,9.552 15,9z M16,4C16.552,4,17,4.448,17,5L17,6.050025 17.19367,6.0708356C21.813009,6.6227326,25.475315,10.33623,25.948275,14.979016L25.950144,15 27,15C27.552,15 28,15.448 28,16 28,16.552 27.552,17 27,17L25.950144,17 25.948275,17.020985C25.475315,21.663771,21.813009,25.377268,17.19367,25.929165L17,25.949976 17,27C17,27.552 16.552,28 16,28 15.448,28 15,27.552 15,27L15,25.949976 14.80633,25.929165C10.186991,25.377268,6.5246844,21.663771,6.0517259,17.020985L6.0498567,17 5,17C4.448,17 4,16.552 4,16 4,15.448 4.448,15 5,15L6.0498567,15 6.0517259,14.979016C6.5246844,10.33623,10.186991,6.6227326,14.80633,6.0708356L15,6.050025 15,5C15,4.448,15.448,4,16,4z M16,2C8.2799988,2 2,8.2799988 2,16 2,23.720001 8.2799988,30 16,30 23.720001,30 30,23.720001 30,16 30,8.2799988 23.720001,2 16,2z M16,0C24.821991,0 32,7.1779938 32,16 32,24.822006 24.821991,32 16,32 7.178009,32 0,24.822006 0,16 0,7.1779938 7.178009,0 16,0z"
                                     Style="{StaticResource IsWriteDeviceAvailableStyle}"
                                     ButtonCommand="{Binding WriteConfigurationCommand}"
                                     ButtonText="{Binding Path=MSS_Client_Write, Source={StaticResource Resources}}">
          <customControls:TabletButton.ButtonCommandParameter>
            <MultiBinding Converter="{StaticResource CustomMultiBindingConverter}">
              <Binding Path="Children" ElementName="MeterConfigStackPanelDynamic"/>
              <Binding Path="Children" ElementName="MeterConfigChannel1StackPanelDynamic"/>
              <Binding Path="Children" ElementName="MeterConfigChannel2StackPanelDynamic"/>
              <Binding Path="Children" ElementName="MeterConfigChannel3StackPanelDynamic"/>
            </MultiBinding>
          </customControls:TabletButton.ButtonCommandParameter>
        </customControls:TabletButton>
        <customControls:TabletButton ButtonPath="M9.9000245,6.000003L6.0000001,9.8999988 12.100037,16.000007 6.0000001,22.100002 9.9000245,25.999997 16,19.900018 22.100037,25.999997 26,22.100002 19.900024,16.000007 26,9.8999988 22.100037,6.000003 16,12.099997z M16,0C24.799988,0 32,7.2000005 32,16.000007 32,24.800016 24.799988,32.000001 16,32.000001 7.2000123,32.000001 8.3946347E-08,24.800016 0,16.000007 8.3946347E-08,7.2000005 7.2000123,0 16,0z"
                                     ButtonCommand="{Binding CancelWindowCommand}"
                                     ButtonText="{Binding Path=MSS_MessageCodes_Cancel, Source={StaticResource Resources}}"/>
      </StackPanel>
      <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
        <ContentPresenter Width="Auto" Height="28" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0"
                          Content="{Binding MessageUserControl, Mode=TwoWay}"/>
      </StackPanel>
    </Grid>
    <Grid Row="1">
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>
      <telerik:RadBusyIndicator x:Name="BusyIndicator" IsBusy="{Binding IsBusy, Mode=TwoWay}"
                                BusyContent="{Binding Path=MSS_Client_Loading, Source={StaticResource Resources}}">
        <telerik:RadTabControl Grid.Row="0" Margin="3" HeaderBackground="#EDEDED"
                               Template="{StaticResource RadTabControlControlTemplateTest}" VerticalAlignment="Stretch">
          <telerik:RadTabItem Loaded="TabControlLoaded" Name="RadTabItem"
                              Header="{Binding MSS_Client_Structures_General_Tab, Source={StaticResource Resources}}"
                              IsSelected="{Binding IsMeterGeneralTabSelected}"
                              Visibility="{Binding IsMeterGeneralTabVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>
              <ScrollViewer Grid.Row="0" PanningMode="VerticalOnly">
                <AdornerDecorator Loaded="TabControlLoaded" Name="AdornerDecorator">
                  <Grid Margin="100">
                    <Grid.RowDefinitions>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Label Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_Device_Name, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_Device_Description, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                  </Grid>
                </AdornerDecorator>
              </ScrollViewer>
              <controls1:TouchScreenKeyboardUserControl x:Name="Keyboard" Grid.Row="1" Height="400" Margin="0 -25" VerticalAlignment="Bottom"
                                                        HorizontalAlignment="Stretch" AreAnimationsEnabled="true" IsAllowedToFade="false"
                                                        KeyBoardInputType="AlphaNumeric" Width="{Binding ElementName=UserControl, Path=ActualWidth}"
                                                        Visibility="{Binding ElementName=UserControl, Path=DataContext.IsKeyboardControlVisible, Mode=TwoWay}"/>
            </Grid>
          </telerik:RadTabItem>
          <telerik:RadTabItem Loaded="TabControlLoaded" Name="RadTabItem2"
                              Header="{Binding MSS_Client_Structures_General_Tab, Source={StaticResource Resources}}"
                              Visibility="{Binding IsRadioMeterGeneralTabVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>
              <ScrollViewer Grid.Row="0" PanningMode="VerticalOnly">
                <AdornerDecorator Loaded="TabControlLoaded" Name="AdornerDecorator1">
                  <Grid Margin="100">
                    <Grid.RowDefinitions>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="70"/>
                      <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="35"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Label Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_Device_Name, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_Device_Description, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_City, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="2" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding City, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="3" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_Street, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="3" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding Street, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_HouseNumber, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="4" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding HouseNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="5" Grid.Column="0" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_HouseNumberSupplement, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="5" Grid.Column="1" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding HouseNumberSupplement, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="0" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_ConflictsManagement_Tenant_ApartmentNr, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="0" Grid.Column="4" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding ApartmentNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="1" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_ZipCode, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="1" Grid.Column="4" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding ZipCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="2" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_UserControl_Dialog_FirstName, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="2" Grid.Column="4" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding FirstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="3" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_UserControl_Dialog_LastName, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="3" Grid.Column="4" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding LastName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="4" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_Structures_Header_Location, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="4" Grid.Column="4" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding Location, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    <Label Grid.Row="5" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource AppLabelStyle}"
                           Content="{Binding Path=MSS_Client_RadioSerialNumber, Source={StaticResource Resources}}"/>
                    <TextBox Grid.Row="5" Grid.Column="4" Width="220" Height="40" VerticalAlignment="Center"
                             Style="{StaticResource AppTextBoxStructureStyle}"
                             Text="{Binding RadioSerialNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                  </Grid>
                </AdornerDecorator>
              </ScrollViewer>
              <controls1:TouchScreenKeyboardUserControl x:Name="Keyboard1" Grid.Row="1" Height="400" Margin="0 -25" VerticalAlignment="Bottom"
                                                        HorizontalAlignment="Stretch" AreAnimationsEnabled="true" IsAllowedToFade="false"
                                                        KeyBoardInputType="AlphaNumeric" Width="{Binding ElementName=UserControl, Path=ActualWidth}"
                                                        Visibility="{Binding ElementName=UserControl, Path=DataContext.IsKeyboardControlVisible, Mode=TwoWay}"/>
            </Grid>
          </telerik:RadTabItem>
          <telerik:RadTabItem x:Name="StuctureSpecificTab" IsSelected="true"
                              Header="{Binding MSS_Client_Structures_Specific_Tab, Source={StaticResource Resources}}">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>
              <ScrollViewer Grid.Row="0" PanningMode="VerticalOnly">
                <AdornerDecorator Loaded="TabControlLoaded2" Name="AdornerDecorator2" Margin="10 0 10 0">
                  <Grid>
                    <Grid.RowDefinitions>
                      <RowDefinition Height="40"/>
                      <RowDefinition Height="*"/>
                      <RowDefinition Height="40"/>
                      <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="*"/>
                      <ColumnDefinition Width="65"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Vertical" Grid.Row="1" Grid.Column="0">
                      <Grid Margin="0 10 0 0">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_DeviceGroup, Source={StaticResource Resources}}"/>
                        <TextBlock Grid.Column="1" VerticalAlignment="Center" Foreground="#77778b" Text="*"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left"
                                             ClearSelectionButtonVisibility="Visible" DisplayMemberPath="Name" MaxDropDownHeight="300"
                                             Style="{StaticResource RadComboBoxErrorStyle}"
                                             ClearSelectionButtonContent="{Binding Path=MSS_Client_Clear_DeviceGroup, Source={StaticResource Resources}}"
                                             IsEnabled="{Binding IsDeviceGroupEnabled}" ItemsSource="{Binding DeviceGroupCollection}"
                                             SelectedValue="{Binding SelectedDeviceGroup, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_SerialNo, Source={StaticResource Resources}}"/>
                        <TextBlock Grid.Column="1" VerticalAlignment="Center" Foreground="#77778b" Text="*"/>
                        <AdornerDecorator Grid.Column="2">
                          <TextBox Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left" VerticalAlignment="Top"
                                   MaxLength="12" Style="{StaticResource TextBoxErrorStyle}"
                                   IsEnabled="{Binding IsSerialNumberEnabled}"
                                   Text="{Binding SerialNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}"/>
                        </AdornerDecorator>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsShortDeviceNoVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_ShortDeviceNr, Source={StaticResource Resources}}"/>
                        <TextBox Grid.Column="2" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left" MaxLength="4"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding ShortDeviceNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                 IsEnabled="{Binding IsShortDeviceEnabled, Mode=TwoWay}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsCompletDeviceIdVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_CompleteDeviceId, Source={StaticResource Resources}}"/>
                        <TextBox Grid.Column="2" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left" MaxLength="16"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding CompleteDeviceId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsRoomVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_InstallationPosition, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left"
                                             ClearSelectionButtonVisibility="Visible" DisplayMemberPath="Name" SelectedValuePath="Id"
                                             SelectionBoxTemplate="{StaticResource SelectedImageComboBoxTemplate}"
                                             Style="{StaticResource RadComboBoxStructureStyle}"
                                             ClearSelectionButtonContent="{Binding Path=MSS_Client_Clear_Room, Source={StaticResource Resources}}"
                                             ItemsSource="{Binding RoomTypeCollection}"
                                             SelectedValue="{Binding SelectedRoomTypeId, Mode=TwoWay}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsAESVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_AES, Source={StaticResource Resources}}"/>
                        <TextBox Grid.Column="2" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left" MaxLength="50"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding AES, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsPrimaryAddressVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_PrimaryAddress, Source={StaticResource Resources}}"/>
                        <TextBox PreviewTextInput="NumericOnly" x:Name="PrimaryAddressTextBox" Grid.Column="2" Width="220"
                                 Height="40" Margin="10 0 0 0" HorizontalAlignment="Left" MaxLength="255"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding PrimaryAddress, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsMediumVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_Medium, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Style="{StaticResource RadComboBoxStructureStyle}" DisplayMemberPath="Value"
                                             SelectedValuePath="Key" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left"
                                             ClearSelectionButtonVisibility="Visible" ItemsSource="{Binding MediumCollection}"
                                             SelectedValue="{Binding Medium, Mode=TwoWay}"
                                             ClearSelectionButtonContent="{Binding Path=MSS_Client_ClearMedium, Source={StaticResource Resources}}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsMeasurementRangeVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_MeasurementRange, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Style="{StaticResource RadComboBoxStructureStyle}" DisplayMemberPath="Value"
                                             SelectedValuePath="Key" Width="220" Height="40" Margin="10 0 0 0" HorizontalAlignment="Left"
                                             ClearSelectionButtonVisibility="Visible" ItemsSource="{Binding MeasurementRangeCollection}"
                                             SelectedValue="{Binding MeasurementRange, Mode=TwoWay}"
                                             ClearSelectionButtonContent="{Binding Path=MSS_Client_EditDevice_ClearMeasurementRange, Source={StaticResource Resources}}"/>
                      </Grid>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Grid.Row="1" Grid.Column="1">
                      <Grid Margin="0 10 0 0">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_DeviceModel, Source={StaticResource Resources}}"/>
                        <TextBlock Grid.Column="1" VerticalAlignment="Center" Foreground="#77778b" Text="*"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0" HorizontalAlignment="Left"
                                             ClearSelectionButtonVisibility="Visible" ItemTemplate="{StaticResource ImageComboBoxTemplate}"
                                             MaxDropDownHeight="370" SelectionBoxTemplate="{StaticResource SelectedImageComboBoxTemplate}"
                                             Style="{StaticResource RadComboBoxErrorStyle}"
                                             ClearSelectionButtonContent="{Binding Path=MSS_Client_Clear_DeviceModel, Source={StaticResource Resources}}"
                                             IsEnabled="{Binding IsDeviceModelEnabled}" ItemsSource="{Binding DeviceTypeCollection}"
                                             SelectedValue="{Binding SelectedDeviceType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsEvaluationFactorVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_EvaluationFactor, Source={StaticResource Resources}}"/>
                        <telerik:RadMaskedNumericInput x:Name="radMaskedNumericInput" Grid.Column="2" Width="220" Height="40" Margin="2 0 0 0"
                                                       HorizontalAlignment="Left" Culture="en-US" Mask="#9.2" SelectionOnFocus="SelectAll"
                                                       TextMode="PlainText" UpdateValueEvent="LostFocus"
                                                       EmptyContent="{Binding Path=MSS_Client_EnterDigits, Source={StaticResource Resources}}"
                                                       Value="{Binding EvaluationFactor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsChannelVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_Channel, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0" HorizontalAlignment="Left"
                                             DisplayMemberPath="Name" SelectedValuePath="Id" Style="{StaticResource RadComboBoxStructureStyle}"
                                             ItemsSource="{Binding ChannelCollection}" SelectedValue="{Binding SelectedChannelId, Mode=TwoWay}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsConnectedDeviceTypeVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Style="{StaticResource AppTextBlockGrayStyle}" HorizontalAlignment="Right"
                                   TextWrapping="Wrap"
                                   Text="{Binding Path=MSS_Client_Structures_EditDevice_ConnectedDeviceType, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0" HorizontalAlignment="Left"
                                             DisplayMemberPath="Name" SelectedValuePath="Id" Style="{StaticResource RadComboBoxStructureStyle}"
                                             ItemsSource="{Binding ConnectedDeviceTypeCollection}"
                                             SelectedValue="{Binding SelectedConnectedDeviceTypeId, Mode=TwoWay}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsManufacturerVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_Manufacturer, Source={StaticResource Resources}}"/>
                        <TextBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0" HorizontalAlignment="Left" MaxLength="50"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding Manufacturer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsGenerationVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_Generation, Source={StaticResource Resources}}"/>
                        <TextBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0" HorizontalAlignment="Left"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding Generation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_ReadingEnabled, Source={StaticResource Resources}}"
                               Visibility="{Binding IsReadingEnabledVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
                        <CheckBox Grid.Column="2" Margin="0 0 0 0" HorizontalAlignment="Left"
                                  Style="{StaticResource AppCheckBoxButtonStyle}"
                                  IsChecked="{Binding IsReadingEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  Visibility="{Binding IsReadingEnabledVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsImpulsValueVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Impulses, Source={StaticResource Resources}}"/>
                        <TextBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0" HorizontalAlignment="Left"
                                 Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding Impulses, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsImpulsUnitVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_ImpulsesUnit, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0"
                                             Style="{StaticResource RadComboBoxStructureStyle}" SelectedValuePath="Id" DisplayMemberPath="Name"
                                             ItemsSource="{Binding ImpulsUnitCollection}"
                                             SelectedValue="{Binding SelectedImpulsUnitId, Mode=TwoWay}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsStartValueVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Archive_ViewMeter_StartValue, Source={StaticResource Resources}}"/>
                        <TextBox Name="StartValueTextBox" Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0"
                                 HorizontalAlignment="Left" Style="{StaticResource AppTextBoxStructureStyle}"
                                 Text="{Binding StartValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                      </Grid>
                      <Grid Margin="0 10 0 0"
                            Visibility="{Binding IsStartValueVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="200"/>
                          <ColumnDefinition Width="7"/>
                          <ColumnDefinition Width="3*"/>
                          <ColumnDefinition Width="0.5*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Style="{StaticResource AppLabelStyle}"
                               Content="{Binding Path=MSS_Client_Structures_EditDevice_StartValueUnit, Source={StaticResource Resources}}"/>
                        <telerik:RadComboBox Grid.Column="2" Width="220" Height="40" Margin="0 0 0 0"
                                             Style="{StaticResource RadComboBoxStructureStyle}" DisplayMemberPath="Name" SelectedValuePath="Id"
                                             ItemsSource="{Binding StartValueUnitCollection}"
                                             SelectedValue="{Binding SelectedStartValueUnitId, Mode=TwoWay}"/>
                      </Grid>
                    </StackPanel>
                    <ToggleButton Name="deviceModelButton" Grid.Row="1" Grid.Column="2" VerticalAlignment="Top">
                      <Control.Template>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                          <Image Margin="15 0 0 0" Source="{Binding DeviceModelImage, Mode=TwoWay}"/>
                        </ControlTemplate>
                      </Control.Template>
                    </ToggleButton>
                    <Popup Name="popupDeviceModel" Grid.Row="1" Grid.Column="2" Placement="Center" StaysOpen="false"
                           IsOpen="{Binding IsChecked, ElementName=deviceModelButton}">
                      <Border Background="DimGray" BorderThickness="1">
                        <StackPanel Background="White">
                          <Image HorizontalAlignment="Right" Source="{Binding DeviceModelImage, Mode=TwoWay}"/>
                        </StackPanel>
                      </Border>
                    </Popup>
                    <Grid Row="3" Column="0" ColumnSpan="3"
                          Visibility="{Binding IsConfigValuesVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                      <telerik:RadTabControl Margin="3" HeaderBackground="#EDEDED" Template="{StaticResource RadTabControlControlTemplateTest}"
                                             Visibility="{Binding IsConfigValuesVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <telerik:RadTabItem Name="GeneralTabItem"
                                            Header="{Binding MSS_Client_Configuration_General, Source={StaticResource Resources}}"
                                            Visibility="{Binding IsConfigValuesVisible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                          <StackPanel Name="MeterConfigStackPanelDynamic" Margin="0,5,0,0"/>
                        </telerik:RadTabItem>
                        <telerik:RadTabItem Header="{Binding MSS_Client_Configuration_Channel1, Source={StaticResource Resources}}"
                                            Visibility="{Binding IsConfigChannel1Visible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                          <StackPanel Name="MeterConfigChannel1StackPanelDynamic" Margin="0,5,0,0"/>
                        </telerik:RadTabItem>
                        <telerik:RadTabItem Header="{Binding MSS_Client_Configuration_Channel2, Source={StaticResource Resources}}"
                                            Visibility="{Binding IsConfigChannel2Visible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                          <StackPanel Name="MeterConfigChannel2StackPanelDynamic" Margin="0,5,0,0"/>
                        </telerik:RadTabItem>
                        <telerik:RadTabItem Header="{Binding MSS_Client_Configuration_Channel3, Source={StaticResource Resources}}"
                                            Visibility="{Binding IsConfigChannel3Visible, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                          <StackPanel Name="MeterConfigChannel3StackPanelDynamic" Margin="0,5,0,0"/>
                        </telerik:RadTabItem>
                      </telerik:RadTabControl>
                    </Grid>
                  </Grid>
                </AdornerDecorator>
              </ScrollViewer>
              <controls1:TouchScreenKeyboardUserControl x:Name="Keyboard2" Grid.Row="1" VerticalAlignment="Bottom" Height="400"
                                                        HorizontalAlignment="Stretch" AreAnimationsEnabled="true" IsAllowedToFade="false"
                                                        KeyBoardInputType="AlphaNumeric" Width="{Binding ElementName=ConfigUserControl, Path=ActualWidth}"
                                                        Visibility="{Binding ElementName=UserControl, Path=DataContext.IsKeyboardControlVisible, Mode=TwoWay}"/>
            </Grid>
          </telerik:RadTabItem>
          <telerik:RadTabItem Header="{Binding MSS_Client_Structures_History_Tab, Source={StaticResource Resources}}">
            <DockPanel VerticalAlignment="Stretch">
              <ScrollViewer DockPanel.Dock="Top" PanningMode="VerticalOnly">
                <AdornerDecorator Loaded="TabControlLoaded3" Name="AdornerDecorator3">
                  <Grid Margin="3">
                    <Grid.RowDefinitions>
                      <RowDefinition Height="*"/>
                      <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <telerik:RadGridView x:Name="MeterReplacementHistoryGridView" telerik:StyleManager.Theme="Windows8"
                                         AlternateRowBackground="#EDEDED" AlternationCount="2" AutoGenerateColumns="false"
                                         CanUserFreezeColumns="false" ColumnWidth="*" IsFilteringAllowed="true" IsReadOnly="true"
                                         RowIndicatorVisibility="Collapsed"
                                         ItemsSource="{Binding MeterReplacementHistoryCollection, Mode=TwoWay}">
                      <telerik:GridViewDataControl.Columns>
                        <telerik:GridViewDataColumn Width="Auto" DataMemberBinding="{Binding DeviceType}"
                                                    Header="{Binding Path=MSS_Client_Structures_Header_DeviceType, Source={StaticResource Resources}}"/>
                        <telerik:GridViewDataColumn Width="Auto" DataMemberBinding="{Binding SerialNumber}"
                                                    Header="{Binding Path=MSS_Client_Structures_Header_SerialNumber, Source={StaticResource Resources}}"/>
                        <telerik:GridViewDataColumn Width="Auto" DataMemberBinding="{Binding ReplacementDate}"
                                                    Header="{Binding Path=MSS_Client_Device_Replacement_Date, Source={StaticResource Resources}}"/>
                      </telerik:GridViewDataControl.Columns>
                    </telerik:RadGridView>
                    <telerik:RadDataPager Grid.Row="1" Margin="0,-1,0,0" telerik:StyleManager.Theme="Windows8"
                                          DisplayMode="FirstLastPreviousNextNumeric, Text" FontSize="12" IsTotalItemCountFixed="true"
                                          PageSize="{Binding PageSize, Mode=TwoWay}"
                                          Source="{Binding Items, ElementName=MeterReplacementHistoryGridView}"/>
                  </Grid>
                </AdornerDecorator>
              </ScrollViewer>
            </DockPanel>
          </telerik:RadTabItem>
          <telerik:RadTabItem Header="{Binding MSS_Client_Structures_MeterReplacement_Tab, Source={StaticResource Resources}}"
                              Visibility="{Binding IsMeterReplacementVisible, Converter={StaticResource BoolToVisibilityConverter}}">
            <StackPanel Orientation="Vertical">
              <Grid>
                <Grid.RowDefinitions>
                  <RowDefinition Height="50"/>
                  <RowDefinition Height="2*"/>
                  <RowDefinition Height="2*"/>
                  <RowDefinition Height="2*"/>
                  <RowDefinition Height="50"/>
                  <RowDefinition Height="*"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="2*"/>
                  <ColumnDefinition Width="Auto"/>
                  <ColumnDefinition Width="2*"/>
                </Grid.ColumnDefinitions>
                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Right"
                       VerticalAlignment="Center" Margin="0 0 10 0"
                       Content="{Binding Path=MSS_Client_Structures_EditDevice_Name, Source={StaticResource Resources}}"/>
                <Label Grid.Row="1" Grid.Column="1" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Left"
                       VerticalAlignment="Center" FontWeight="Bold" Content="{Binding OldMeterName}"/>
                <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Right"
                       VerticalAlignment="Center" Margin="0 0 10 0"
                       Content="{Binding Path=MSS_Client_Set_Configuration_SerialNumber, Source={StaticResource Resources}}"/>
                <Label Grid.Row="2" Grid.Column="1" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Left"
                       VerticalAlignment="Center" FontWeight="Bold" Content="{Binding OldMeterSerialNumber}"/>
                <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Right"
                       VerticalAlignment="Center" Margin="0 0 10 0"
                       Content="{Binding Path=MSS_Client_Structures_EditDevice_PrimaryAddress, Source={StaticResource Resources}}"/>
                <Label Grid.Row="3" Grid.Column="1" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Left"
                       VerticalAlignment="Center" FontWeight="Bold" Content="{Binding OldMeterPrimaryAddress}"/>
                <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource AppLabelStyle}" HorizontalAlignment="Right"
                       VerticalAlignment="Center" Margin="0 0 10 0"
                       Content="{Binding Path=MSS_Client_Structures_ReplaceWithMeter, Source={StaticResource Resources}}"/>
                <telerik:RadComboBox Grid.Row="5" Grid.Column="1" DisplayMemberPath="DisplayValue"
                                     Style="{StaticResource RadComboBoxStructureStyle}"
                                     ItemsSource="{Binding AvailableMetersToReplaceWith}"
                                     SelectedItem="{Binding MeterToReplaceWith, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                <customControls:TabletButton Grid.Row="5" Grid.Column="2"
                                             ButtonPath="M0.74694711,16.958995L1.3415945,17.006202 2.3579679,17.04995 2.3563794,17.086762 9.9798761,17.691965 9.8219171,19.685982 3.8679255,19.21296C6.0769144,23.237004 10.519916,25.843997 15.400908,25.843997 20.943888,25.843997 25.879933,22.514959 27.682915,17.560007L29.561947,18.24299C27.472954,23.985966 21.781903,27.843995 15.400908,27.843995 9.902453,27.843995 4.8793369,24.949913 2.2732095,20.457431L2.2153432,20.35535 1.9979725,25.392995 0,25.306994 0.35999486,16.96395 0.75531064,16.980966z M15.560646,8.9645386E-05C15.85719,0.0010910034 16.155078,0.010475159 16.454,0.028427124 21.942891,0.35479164 26.783297,3.5421906 29.114167,8.1818323L29.138732,8.231967 30.018942,2.9729557 31.991946,3.3029566 30.568944,11.804986 29.770264,11.6714 21.257014,10.484048 21.532015,8.5031195 27.448033,9.3280897C25.486027,5.181241 21.208014,2.3143444 16.335,2.0243549 10.809983,1.7043667 5.672967,4.7262573 3.5769609,9.5650811L1.7409553,8.7701101C4.057056,3.4251795,9.5309291,-0.02025795,15.560646,8.9645386E-05z"
                                             Margin="10 0 0 0" Width="85" HorizontalAlignment="Left"
                                             ButtonCommand="{Binding ReplaceMeterCommand}"
                                             ButtonText="{Binding Path=MSS_Client_Structures_ReplaceDevice_Title, Source={StaticResource Resources}}"
                                             Visibility="{Binding IsReplaceMeterButtonVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
              </Grid>
            </StackPanel>
          </telerik:RadTabItem>
        </telerik:RadTabControl>
      </telerik:RadBusyIndicator>
    </Grid>
  </Grid>
</customControls:KeyboardMetroWindow>